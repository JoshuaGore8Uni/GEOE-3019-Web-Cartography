<!DOCTYPE html>
<html>
    <head>
        <title>Leaflet Map</title>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>
        <script src="../data/leaflet_plugins/leaflet-providers.js"></script>
        <script src="../data/leaflet_plugins/leaflet.ajax.min.js"></script>
        <script src="https://requirejs.org/docs/release/2.3.3/minified/require.js"></script>
        <!-- GeoJSON -->
        <!--
        <script>var burnsidetreeswgs84 = require('../data/geodata_files/burnsidetreeswgs84.geojson');</script>
        <script type="text/javascript" src="../data/geodata_files/burnsidetreeswgs84.geojson"></script>
        -->
    </head>
    <body>
        <!--
        Use the burnsidetreeswgs84.geojson point file and create a marker clustering map.
        Add an appropriate map title using an info window on the upper right corner.
        Limit the map window size to 600 x 400 px.
        ../data/geodata_files/burnsidetreeswgs84.geojson
        -->
        <div id="map" style="width: 600px; height: 400px"></div>
        <script>
            var map = L.map('map').setView([-34.94, 138.66], 13);
            var osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
            var osmAttrib = '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
            L.tileLayer(osmUrl, {attribution: osmAttrib}).addTo(map);
            /*
            function geoJson2heat(geojson, intensity) {
                return geojson.features.map(function(feature) {
                    return [
                        feature.geometry.coordinates[0][1],
                        feature.geometry.coordinates[0][0],
                        feature.properties[intensity]
                    ];
                });
            }; 
            */
            function geoJson2heat(geojson) {
                return geojson.features.map(function(feature) {
                    return [
                        feature.geometry.coordinates[0][1],
                        feature.geometry.coordinates[0][0],
                    ];
                });
            }; 
            require(['../data/geodata_files/burnsidetreeswgs84'], function(data) {
                latlng = geoJson2heat(data);
                console.log(latlng);
            });
        </script>
    </body>
</html>
