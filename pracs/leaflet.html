<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Page Tab Icon -->
        <link rel="shortcut icon" href="../assets/initials.ico">

        <!-- all js placed in head to simplify inline scripting -->
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

        <!-- Boostrap Javascript -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        <!-- page by page scroll onepage-scroll -->
        <!--
        <link rel="stylesheet" href="../assets/onepage-scroll.css"/>
        <script src="../assets/jquery.onepage-scroll.min.js"></script>
        <script>$(".main").onepage_scroll({keyboard: true});</script>
        -->

        <!-- Leaflet CSS and JS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
            integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
            crossorigin=""/>    
        <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
            integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
            crossorigin=""></script>
        <!-- Leaflet Plugins -->
        <!--
        <script src="./data/leaflet_plugins/leaflet-providers.js"></script>
        -->
        <link rel="stylesheet" href="./data/leaflet_plugins/Control.MiniMap.css" />
        <script src="./data/leaflet_plugins/Control.MiniMap.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.0/dist/MarkerCluster.css" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.0/dist/MarkerCluster.Default.css" />
        <script src="https://unpkg.com/leaflet.markercluster@1.4.0/dist/leaflet.markercluster.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>
        <link rel="stylesheet" href="./data/leaflet_plugins/L.Control.Range.css" />
        <script src="./data/leaflet_plugins/L.Control.Range.js"></script>
        <title>Leaflet Pracs</title>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="/">Home</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./outofbox.html">Out of Box Mapping</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="./leaflet.html">Leaflet Maps</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./advanced.html">Advanced API's</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../fire/vtiles.html">Fire History Map</a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="main">
            <section>
                <div class="p-3">
                    <h1>Map 1: Basemap with Selector</h1>
                    <p>This map demonstrates a leaflet layer selector. The map incoperates five baselayers: 
                    <ul>
                        <li>A satellite image basemap, from Mapbox)</li>
                        <li>A road map basemap, also from Mapbox</li>
                        <li>A terrain map, from OpenTopoMap</li>
                        <li>A grey map without labels, custom basemap made with Mapbox</li>
                        <li>A dark map, the Mapbox Dark themed basemap</li>
                    </ul>
                    The tilelayer source shows automatically along with attribution to myself in the bottom left corner of the map. The map is initially set to the extent of South Australia using the fitBounds command (which will set zoom depending on screen size).</p>
                    <p>This map uses no plugins but includes a watermark implemented as a custom control. As no size was specified the map div has been set to 100% width and 100% of the viewport height.</p>
                    <!-- create element to mount map one, make fullscreen as no size specified -->
                </div>
                <div id="map1" style="height: 100vh; width: 100%"></div>

                <script>
                    // set initial map extent to South Australia
                    var map1 = L.map('map1').fitBounds([
                        [-25.89, 128.85],
                        [-38.16, 141.13]
                    ]);

                    // initiate five map layers - leaflet providor plugin used for mapbox as simplified
                    // satellite
                    var mapbox_satellite = L.tileLayer('https://api.mapbox.com/v4/{id}/{z}/{x}/{y}.jpg?access_token={accessToken}', {
                        maxZoom: 16,
                        id: 'mapbox.satellite',
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                        accessToken: 'pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A',
                    });

                    // road
                    var mapbox_streets = L.tileLayer('https://api.mapbox.com/v4/{id}/{z}/{x}/{y}.jpg?access_token={accessToken}', {
                        maxZoom: 16,
                        id: 'mapbox.streets',
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                        accessToken: 'pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A',
                    });

                    // terrain
                    var openTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                        maxZoom: 16,
                        attribution: 'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
                    });

                    // grey without labels
                    var mapbox_grey_nolabels = L.tileLayer('https://api.mapbox.com/styles/v1/joshg/cjk7ybb6a6vh42tqpg1nfwcpb/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A', {attribution: ' Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'});

                    // dark map
                    var mapbox_dark = L.tileLayer('https://api.mapbox.com/v4/{id}/{z}/{x}/{y}.jpg?access_token={accessToken}', {
                        maxZoom: 16,
                        id: 'mapbox.dark',
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                        accessToken: 'pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A',
                    });

                    // variable to hold layer control layers
                    var baseLayers = {
                        "Satellite": mapbox_satellite,
                        "Road": mapbox_streets,
                        "Terrain": openTopoMap,
                        "Dark": mapbox_dark,
                        "No Labels": mapbox_grey_nolabels,
                    };

                    // add my attribution to each layer
                    Object.keys(baseLayers).forEach(key => {
                        baseLayers[key].options.attribution = 'Created By <a href="https://au.linkedin.com/in/joshua-gore-214565124">Joshua Gore</a> | ' + baseLayers[key].options.attribution;
                    })

                    // add layers to map
                    baseLayers.Road.addTo(map1);
                    L.control.layers(baseLayers).addTo(map1);
                    L.control.scale().addTo(map1);

                    // add UniSA watermark control class
                    L.Control.Watermark = L.Control.extend({
                        onAdd: function(map1) {
                            var img = L.DomUtil.create('img');

                            img.src = './data/images/logo_unisa_rgb-blue_h.png';
                            img.style.width = '200px';

                            return img;
                        },

                    });

                    L.control.watermark = function(opts) {
                        return new L.Control.Watermark(opts);
                    }

                    // add watermark to map
                    L.control.watermark({ position: 'bottomleft' }).addTo(this.map1);

                </script>
            </section>
            <section>
                <div class="p-3">
                    <h2>Map 2: My Favorite Worldwide Travel Destinations</h2>
                    <p>This map indicates my favorite worldwide travel locations, with popups giving more information about each location. Two versions of this map where created, one with custom image icons and another utilising size and colour applied to circle symbols. The latter is shown, the former included in code comments. Popups have been attached to all points providing more information. Zoom levels have been limited to 2, 4, and 6. A inset map has been added using the Control.minimap plugin.</p>
                </div>
                <div id="map2" style="height: 100vh; width: 100%"></div>
                <!-- Map also made using custom markers, however marker used not visiually appealing.
                <p>This map demonstrates markers with popups and custom markers. An inset map has also been added.</p>
                <div id="map2" style="height: 100vh; width: 100%"></div>
                <script>
                    // var map = L.map('map').setView([51.505, -0.09], 13);
                    var map = L.map('map2').fitWorld();
                    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A', {
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="https://www.mapbox.com/">Mapbox</a>',
                        maxZoom: 18,
                        id: 'mapbox.streets',
                        accessToken: 'pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A'
                    }).addTo(map);
                    var marker_1 = L.icon({
                        iconUrl: './data/icons/marker_1.png',
                        iconSize:     [31, 39], // size of the icon
                        //iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
                        //popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
                    });
                    var marker_2 = L.icon({
                        iconUrl: './data/icons/marker_2.png',
                        iconSize:     [31, 39], // size of the icon
                        //iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
                        //popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
                    });
                    var marker_3 = L.icon({
                        iconUrl: './data/icons/marker_3.png',
                        iconSize:     [31, 39], // size of the icon
                        //iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
                        //popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
                    });
                    var marker_4 = L.icon({
                        iconUrl: './data/icons/marker_4.png',
                        iconSize:     [31, 39], // size of the icon
                        //iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
                        //popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
                    });
                    var marker_5 = L.icon({
                        iconUrl: './data/icons/marker_5.png',
                        iconSize:     [31, 39], // size of the icon
                        //iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
                        //popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
                    });
                // L.tileLayer('https://api.mapbox.com/styles/v1/joshg/cjk7ybb6a6vh42tqpg1nfwcpb/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A').addTo(map);
                    // Kosciuszko -36.455927, 148.264550
                    L.marker([-36.455927, 148.264550], {icon: marker_3}).addTo(map);
                    // Alpine National Park: Lake Tali Karng -37.541972, 146.790241
                    L.marker([-37.541972, 146.790241], {icon: marker_2}).addTo(map);
                    // Kata Tjuta -25.296021, 130.720571
                    L.marker([-25.296021, 130.720571], {icon: marker_2}).addTo(map);
                    // Mt Remarkable National Park -32.787953, 138.068583
                    L.marker([-32.787953, 138.068583], {icon: marker_1}).addTo(map);
                    // Wilpena Pound, Flinders Ranges -31.559838, 138.572020
                    L.marker([-31.559838, 138.572020], {icon: marker_1}).addTo(map);
                    // Wellington -41.315579, 174.781097
                    L.marker([-41.315579, 174.781097], {icon: marker_2}).addTo(map);
                    // Rotarua -38.136663, 176.246466
                    L.marker([-38.136663, 176.246466], {icon: marker_3}).addTo(map);
                    // Milford Track -44.683690, 167.902212
                    L.marker([-44.683690, 167.902212], {icon: marker_4}).addTo(map);
                    // Kepler Track -45.492070, 167.663162
                    L.marker([-45.492070, 167.663162], {icon: marker_4}).addTo(map);
                    // Queenstown
                    // Appalatian Mountains 36.903539, -81.081878
                    L.marker([36.903539, -81.081878], {icon: marker_5}).addTo(map);
                    // Rocky Mountains 44.254401, -109.808834
                    L.marker([44.254401, -109.808834], {icon: marker_5}).addTo(map);
                    // Everest Base Camp 28.002553, 86.852718
                    L.marker([28.002553, 86.852718], {icon: marker_5}).addTo(map);
                    // Bougainville
                </script>
                -->
                <script>
                    // initiate map and limit to three zoom levels using min, max, and snap
                    var map2 = L.map('map2', {
                        minZoom: 2,
                        maxZoom: 6,
                        zoomSnap: 2,
                    }).fitWorld();
                    var baseMapURL = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A';
                    var accessToken = 'pk.eyJ1Ijoiam9zaGciLCJhIjoiTFBBaE1JOCJ9.-BaGpeSYz4yPrpxh1eqT2A'; 
                    var attribution = 'Created By <a href="https://au.linkedin.com/in/joshua-gore-214565124">Joshua Gore</a> | Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="https://www.mapbox.com/">Mapbox</a>';
                    var mainBaseMap = L.tileLayer(baseMapURL, {id: 'mapbox.streets', attribution: attribution, accessToken: accessToken, maxZoom: 18}).addTo(map2);
                    L.control.scale().addTo(map2);

                    // add minimap
                    var miniBaseMap = L.tileLayer(baseMapURL, {id: 'mapbox.streets', attribution: attribution, accessToken: accessToken, maxZoom: 18});
                    var miniMap = new L.Control.MiniMap(miniBaseMap, { toggleDisplay: true }).addTo(map2);

                    // define symbols as objects
                    circleLevel1 = {
                        color: '#ffff93',
                        weight: 1,
                        fillColor: '#ffff93',
                        fillOpacity: 0.8,
                        radius: 5,
                    };
                    circleLevel2 = {
                        color: '#b0d882',
                        weight: 1,
                        fillColor: '#b0d882',
                        fillOpacity: 0.8,
                        radius: 8,
                    };
                    circleLevel3 = {
                        color: '#78c679',
                        weight: 1,
                        fillColor: '#78c679',
                        fillOpacity: 0.8,
                        radius: 11,
                    };
                    circleLevel4 = {
                        color: '#31a354',
                        weight: 1,
                        fillColor: '#31a354',
                        fillOpacity: 0.8,
                        radius: 14,
                    };
                    circleLevel5 = {
                        color: '#006837',
                        weight: 1,
                        fillColor: '#006837',
                        fillOpacity: 0.8,
                        radius: 17,
                    };

                    // add places to map using defined circle symbols
                
                    // Kosciuszko -36.455927, 148.264550 ranking 3
                    L.circleMarker([-36.455927, 148.264550], circleLevel3).addTo(map2);
                    // Alpine National Park: Lake Tali Karng -37.541972, 146.790241 ranking 2
                    L.circleMarker([-37.541972, 146.790241], circleLevel2).addTo(map2);
                    // Kata Tjuta -25.296021, 130.720571 ranking 2
                    L.circleMarker([-25.296021, 130.720571], circleLevel2).addTo(map2);
                    // Mt Remarkable National Park -32.787953, 138.068583 ranking 1
                    L.circleMarker([-32.787953, 138.068583], circleLevel1).addTo(map2);
                    // Wilpena Pound, Flinders Ranges -31.559838, 138.572020 ranking 1
                    L.circleMarker([-31.559838, 138.572020], circleLevel1).addTo(map2);
                    // Wellington -41.315579, 174.781097 ranking 2
                    L.circleMarker([-41.315579, 174.781097], circleLevel2).addTo(map2);
                    // Rotarua -38.136663, 176.246466 ranking 3
                    L.circleMarker([-38.136663, 176.246466], circleLevel3).addTo(map2);
                    // Milford Track -44.683690, 167.902212 ranking 4
                    L.circleMarker([-44.683690, 167.902212], circleLevel5).addTo(map2);
                    // Kepler Track -45.492070, 167.663162 ranking 4
                    L.circleMarker([-45.492070, 167.663162], circleLevel4).addTo(map2);
                    // Appalatian Mountains 36.903539, -81.081878 ranking 5
                    L.circleMarker([36.903539, -81.081878], circleLevel5).addTo(map2);
                    // Rocky Mountains 44.254401, -109.808834 ranking 5
                    L.circleMarker([44.254401, -109.808834], circleLevel5).addTo(map2);
                    // Everest Base Camp 28.002553, 86.852718 ranking 5
                    L.circleMarker([28.002553, 86.852718], circleLevel5).addTo(map2);
                </script>
            </section>
            <section>
                <div class="p-3">
                    <h1>Map 3: Image Overlay with Transparency Slider</h1>
                    <p>This map shows an image overlay registered using corner coordinates. A slider has been created using the L.control.range plugin which changes the transparency of the overlay using layer.setOpacity on slider change events.</p>
                    <table class="table">
                        <tbody>
                            <tr>
                                <td>Top Left Corner</td>
                                <td>-34.857826 138.450236 Decimal Degrees</td>
                            </tr>
                            <tr>
                                <td>Bottom Right Corner</td>
                                <td>-34.985246 138.749692 Decimal Degrees</td>
                            </tr>
                            <tr>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="map3" style="width: 100%; height: 100vh"></div>
                <script>
                    var map3 = L.map('map3').setView([-34.92, 138.59], 13);
                    // var map = L.map('map').fitWorld();
                    var osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
                    osmAttrib = 'Created By <a href="https://au.linkedin.com/in/joshua-gore-214565124">Joshua Gore</a> | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
                          L.tileLayer(osmUrl, {maxZoom: 18, attribution: osmAttrib}).addTo(map3);
                    var imageUrl = './data/geodata_files/historical_TopoMap_Adelaide_1898.png',
                        imageBounds = [[-34.857826, 138.450236], [-34.985246, 138.749692]];
                    var layer = L.imageOverlay(imageUrl, imageBounds).addTo(map3);

                    var control = L.control.range({
                        orient: 'vertical',
                        value: 100
                    });

                    control.on('change input', function(e) {
                        layer.setOpacity(e.value / 100);
                    })
                    map3.addControl(control);
                    L.control.scale().addTo(map3);
                </script>
            </section>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <h1>Burnside Tree Location Maps</h1>
                        <p>The following two maps show the locations of trees in the City of Burnside.  As this is a large dataset with tens of thousands of points some form of scale dependant point display is necessary. The first map demonstrates marker clustering using the Leaflet.markercluster plugin. The second map shows a heatmap using Leaflet.heat. Colours have been chosen to symbolise 'greener' areas where trees are denser. Blur/radius values have been chosen to show meaningful street level information at higher zoom levels.</p>
                        <p>Both maps have been limited to a size of 600 x 400 px and have in-map titles.</p>
                    </div>
                    <div class="col-6">
                        <section>
                            <h1>Map 4: Marker Clustering</h1>
                            <div id="map4" style="height: 400px; width: 600px"></div>
                            <style> 
                                .info {
                                    padding: 6px 8px;
                                        /*
                                    font: 14px/16px Arial, Helvetica, sans-serif;
                                    background: white;
                                        */
                                    background: rgba(255,255,255,0.8);
                                    box-shadow: 0 0 15px rgba(0,0,0,0.2);
                                    border-radius: 5px;
                                }
                                .info h5 {
                                    margin-bottom: 0px;
                                }
                            </style>
                            <script>
                                // map container
                                var map4 = L.map('map4').setView([-34.94, 138.66], 13);

                                // add tilelayer
                                var osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
                                var osmAttrib = 'Created By <a href="https://au.linkedin.com/in/joshua-gore-214565124">Joshua Gore</a> | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
                                L.tileLayer(osmUrl, {attribution: osmAttrib}).addTo(map4);

                                // create title in leaflet control
                                var info = L.control({position:'topright'});
                                info.onAdd = function (map4) {this._div = L.DomUtil.create('div', 'info');
                                    this._div.innerHTML = '<h5>Tree Locations in the City of Burnside</h5>';
                                    return this._div};
                                info.addTo(map4);
                                L.control.scale().addTo(map4);

                                // create variable to store clusters
                                var markers = L.markerClusterGroup();

                                // load geojson data using ajax
                                fetch('./data/geodata_files/burnsidetreeswgs84.geojson')
                                    .then(response => response.json())
                                    .then(data => {
                                        var geojson = new L.GeoJSON(data);
                                        markers.addLayer(geojson);
                                        map4.addLayer(markers);
                                    })
                            </script>
                        </section>
                    </div>
                    <div class="col-6">
                        <section>
                            <h1>Map 5: Heatmap</h1>
                            <div id="map5" style="width: 600px; height: 400px"></div>
                            <script>
                                // map container
                                var map5 = L.map('map5').setView([-34.94, 138.66], 13);

                                // add tilelayer
                                var osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
                                var osmAttrib = 'Created By <a href="https://au.linkedin.com/in/joshua-gore-214565124">Joshua Gore</a> | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
                                L.tileLayer(osmUrl, {attribution: osmAttrib}).addTo(map5);

                                // create title in leaflet control
                                var info = L.control({position:'topright'});
                                info.onAdd = function (map5) {this._div = L.DomUtil.create('div', 'info');
                                    this._div.innerHTML = '<h5>Tree Locations in the City of Burnside</h5>';
                                    return this._div};
                                info.addTo(map5);
                                L.control.scale().addTo(map5);

                                // load geojson data using fetch api
                                fetch("./data/geodata_files/burnsidetreeswgs84.geojson")
                                    .then(response => response.json())
                                    .then(data => {
                                        var coords = data.features.map(feature => [feature.geometry.coordinates[1], feature.geometry.coordinates[0]]);
                                        var heat = L.heatLayer(coords, {radius: 13, blur: 30, gradient: {0.1: '#d8b365', 0.65: '#d0e0a6', 1: '#31a354'}}).addTo(map5);
                                    });
                            </script>
                        </section>
                    </div>
                </div>
            </div>
            <section>
                <h1>Map 6: Choropleth Map</h1>
                <p></p>
                <div id="map6" style="height: 100vh; width: 100%"></div>
                <style>
                    .legend i {
                        width: 18px;
                        height: 15px;
                        float: left;
                        margin-right: 8px;
                        opacity: 0.7 
                    }
                    .info {
                        /* repeated here for readability */
                        padding: 6px 8px;
                        background: rgba(255,255,255,0.8);
                        box-shadow: 0 0 15px rgba(0,0,0,0.2);
                        border-radius: 5px;
                    }
                </style>
                <script>
                    var map6 = L.map('map6').fitBounds([[-36.18, 136.39], [-33.44, 139.18]]);
                    // add tilelayer
                    var osmUrl = 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png';
                    var osmAttrib = 'Created By <a href="https://au.linkedin.com/in/joshua-gore-214565124">Joshua Gore</a> | &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attributions">CARTO</a>';
                    L.tileLayer(osmUrl, {attribution: osmAttrib}).addTo(map6);
                    L.control.scale().addTo(map6);
                    // create natural breaks symbology function
                    function getColour(value) {
                        return value > 164 ? '#133F32' : 
                               value > 91  ? '#346B48' :
                               value > 44  ? '#649856' :
                               value > 10  ? '#A2C45F' :
                                             '#EFEE69';
                        
                    }

                    function style(feature) {
                        return {
                            fillColor: getColour(feature.properties.Park),
                            weight: 1,
                            opacity: 1,
                            color: 'grey',
                            fillOpacity: 0.5,
                        };
                    }

                    fetch("./data/geodata_files/LGA_Adelaide.geojson")
                        .then(response => response.json())
                        .then(data => {
                            parks = L.geoJson(data, {style: style}).addTo(map6);
                            // add event listener to parks layer
                            parks.on({
                                mouseover: setInfo,
                                mouseout: resetInfo,
                            });
                    });

                    var legend = L.control({position: 'bottomright'});
                    legend.onAdd = function(map) {
                        var div = L.DomUtil.create('div', 'info legend'),
                            grades = [209, 164, 91, 44, 10],
                            labels = [];
                            for (var i = 0; i < grades.length; i++) {
                                div.innerHTML +=
                                '<i style="background:' + getColour(grades[i]) + '"></i> ' +
                                grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '-');
                            }
                        return div;
                    }
                    legend.addTo(map6);
                            
                    // ---------- Custom Info Control ------------------
                    // from course examples
                    var info = L.control();

                    info.onAdd = function (map6) {
                        this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
                        this.update();
                        return this._div 
                    };

                    // method to update the control based on feature properties passed
                    info.update = function (properties) {
                        this._div.innerHTML = '<h4>LGA Number of Parks</h4>' +  (properties ?
                            '<b>' + properties.LGA + '</b><br />' + properties.Park + ' parks'
                            : 'Hover over a LGA Area') 
                    };

                    info.addTo(map6);
                    
                    // layer specific functions
                    function setInfo(e) {
                        layer = e.propagatedFrom;
                        info.update(layer.feature.properties);
                    }
                    function resetInfo() {
                        info.update();
                    }
                </script>
            </section>

            <!--
            <h4>Leaflet Practical - Final 6 published leaflet web maps from Practical together wtih a short text explanation</h4>
            <h5>Map 1: Basemap - selector</h5>
            <p>Your first Leaflet web map should contain different basemaps and a basemap layer control. You
            have to incorporate altogether five different tiled maps:</p>
            <ul>
                <li>satellite image</li>
                <li>road map</li>
                <li>terrain map</li>
                <li>grey map without labels</li>
                <li>dark map.
                    The choice for each of them is up to you. The basemap layer control should allow the user to switch
                    between them. The tile-layer source will usually be displayed automatically. The map should
                    initially display the extend of South Australia.
                    You can use this resource for Leaflet tilemaps providers: <a href="http://leaflet-extras.github.io/leaflet-providers/preview/index.html.">http://leaflet-extras.github.io/leaflet-providers/preview/index.html.</a></li>
            </ul>
            <p><a href="https://joshuagore8uni.github.io/GEOE-3019-Web-Cartography/Leaflet_01_map/leaflet_01_map.html">https://joshuagore8uni.github.io/GEOE-3019-Web-Cartography/Leaflet_01_map/leaflet_01_map.html</a></p>
            -->

            <!-- 
            <h5>Map 2: Place Of Interest map / add markers</h5>
            <p>Your second map shall include at least 3 marker points  indicating your favourite worldwide travel
            destinations. Moreover, you are asked to implement an interactive marker function: Whenever
            the user hovers or/and clicks on a marker, an Info-Window should popup showing an embedded
            image together with further descriptive information (text, URL, etc.). Choose customized marker
            symbol(s) and adapt symbol size and colour based on your personal ranking (e.g. big symbol with
            bright colour = favourite destination, slightly smaller and a less intensive colour = destination no.
            2, …). Allow only 3 appropriate zoom levels and include an Inset map (mini map).</p>
            <p><a href="https://joshuagore8uni.github.io/GEOE-3019-Web-Cartography/Leaflet_02_map/leaflet_02_map.html">https://joshuagore8uni.github.io/GEOE-3019-Web-Cartography/Leaflet_02_map/leaflet_02_map.html</a></p>
            <h6 id="favorite-travel-destinations">Favorite Travel Destinations</h6>
            <ul>
                <li>Australia<ul>
                        <li>Koziosco Great Range Walk (3)</li>
                        <li>Alpine National Park (2)</li>
                        <li>Kata Juta (2)</li>
                        <li>Mt Remarkable National Park(1)</li>
                        <li>Flinders Ranges (1)</li></ul></li>
                <li>New Zealand<ul>
                        <li>Wellington (2)</li>
                        <li>Rotarua (3)</li>
                        <li>Fiordland (Te Anau)<ul>
                                <li>Milford Track (4)</li>
                                <li>Kepler Track (4)</li></ul></li>
                        <li>Queenstown (3)</li></ul></li>
                <li>America<ul>
                        <li>Appalatian Mountain Track (5)</li></ul></li>
                <li>Canada<ul>
                        <li>Rockies (5)</li></ul></li>
                <li>Himalayisas - Everest Base Camp (5)</li>
                <li>Bougainville (4)</li>
            </ul>
            <pre><code>// Kosciuszko -36.455927, 148.264550
    L.marker([-36.455927, 148.264550]).addTo(map);
    // Alpine National Park: Lake Tali Karng -37.541972, 146.790241
    L.marker([-37.541972, 146.790241]).addTo(map);
    // Kata Tjuta -25.296021, 130.720571
    L.marker([-25.296021, 130.720571]).addTo(map);
    // Mt Remarkable National Park -32.787953, 138.068583
    L.marker([-32.787953, 138.068583]).addTo(map);
    // Wilpena Pound, Flinders Ranges -31.559838, 138.572020
    L.marker([-31.559838, 138.572020]).addTo(map);
    // Wellington -41.315579, 174.781097
    L.marker([-41.315579, 174.781097]).addTo(map);
    // Rotarua -38.136663, 176.246466
    L.marker([-38.136663, 176.246466]).addTo(map);
    // Milford Track -44.683690, 167.902212
    L.marker([-44.683690, 167.902212]).addTo(map);
    // Kepler Track -45.492070, 167.663162
    L.marker([-45.492070, 167.663162]).addTo(map);
    // Queenstown
    // Appalatian Mountains 36.903539, -81.081878
    L.marker([36.903539, -81.081878]).addTo(map);
    // Rocky Mountains 44.254401, -109.808834
    L.marker([44.254401, -109.808834]).addTo(map);
    // Everest Base Camp 28.002553, 86.852718
    L.marker([28.002553, 86.852718]).addTo(map);
    // Bougainville</code></pre>
            <h6 id="adding-marker-points">Adding marker points</h6>
            <pre><code>L.marker(&lt;latlng&gt;, options?).addTo(map);</code></pre>
            <h6 id="defining-zoom-levels">Defining Zoom Levels</h6>
            <h6 id="inset-map">Inset Map</h6>
            <h5 id="map-3-image-overlay-with-transparency-slider-tool">Map 3: Image overlay with transparency slider tool</h5>
            <p>Within the provided geodata you find an .png image file named
            “historical_TopoMap_Adelaide_1898.png”. Please embed this historical raster map in your web
            map. Apply a slider tool to change image opacity from 100% to 0%. The image extend is:</p>
            <pre><code>Lat Lng of the image extend (top left and bottom right):
    -34.857826 138.450236 Decimal Degrees
    -34.985246 138.749692 Decimal Degrees</code></pre>
            <p><a href="https://joshuagore8uni.github.io/GEOE-3019-Web-Cartography/Leaflet_03_map/leaflet_03_map.html">https://joshuagore8uni.github.io/GEOE-3019-Web-Cartography/Leaflet_03_map/leaflet_03_map.html</a></p>
            <h5 id="map-4-marker-clustering">Map 4: Marker Clustering</h5>
            <p>Use the burnsidetreeswgs84.geojson point file and create a marker clustering map.
            Add an appropriate map title using an info window on the upper right corner.
            Limit the map window size to 600 x 400 px.</p>
            <h5 id="map-5-heat-map">Map 5: Heat map</h5>
            <p>Use the same data set (burnsidetreeswgs84.geojson) and create an heat map. When designing the
            heat map carefully choose radius and blur parameters.
            Apply title approach and map window size as above (Map 4).</p>
            <h5 id="map-6-choropleth-map-with-geojson-data">Map 6: Choropleth map with geojson data</h5>
            <p>Use the LGA_Adelaide.geojson polygon file to create a choropleth map. LGAs are Land government
            areas (council areas). Explore the geojson file. One attribute field contains the number of parks in
            each council area. That’s the one you need to use for your choropleth map.
            Explore the data distribution using a histogram:<br>
            <img src="../data/LGA_Histo.png" alt="image of data in arcgis histogram"><br>
            Which classification method to use: Natural breaks would be one option.<br>
            How many classes: Usually between 3 and 7.<br>
            The colour-scheme should be sequential.<br>
            You can use class-borders (10-30-70-120-209) of 5 classes as suggested in the figure above.<br>
            <em>Helpful to use is this online colour-advise-tool for choropleth maps: <a href="http://colorbrewer2.org">http://colorbrewer2.org</a>
                Additional reading about choropleth maps and their cartography: <a href="http://axismaps.github.io/thematic-cartography/articles/choropleth.html">http://axismaps.github.io/thematic-cartography/articles/choropleth.html</a>
                Optional: Create and include a legend. Think about an appropriate classification and colour scheme</em></p>
            -->
        </div>
    </body>
</html>
